!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.woven=t()}}(function(){return function t(e,r,n){function o(u,a){if(!r[u]){if(!e[u]){var c="function"==typeof require&&require;if(!a&&c)return c(u,!0);if(i)return i(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var m=r[u]={exports:{}};e[u][0].call(m.exports,function(t){var r=e[u][1][t];return o(r?r:t)},m,m.exports,t,e,r,n)}return r[u].exports}for(var i="function"==typeof require&&require,u=0;u<n.length;u++)o(n[u]);return o}({1:[function(t,e,r){r.extractSchemaItems=t("./schema").extractSchemaItems,r.extractDocumentMeta=t("./meta").extractDocumentMeta,r.extractHAudio=t("./microformats").extractHAudio},{"./meta":2,"./microformats":3,"./schema":4}],2:[function(t,e,r){var n=t("./utils");r.extractDocumentMeta=function(t){return n.toArray(t.getElementsByTagName("meta")).reduce(function(t,e){return e.name?t[e.name]=e.content:n.elemHasAttr(e,"property")?t[n.getElemAttrVal(e,"property")]=e.content:n.elemHasAttr(e,"itemprop")&&(t[n.getElemAttrVal(e,"itemprop")]=e.content),t},{})}},{"./utils":5}],3:[function(t,e,r){var n=t("./utils");r.extractHAudio=function(t){return n.toArray(t.getElementsByClassName("haudio")).map(function(t){return["fn","contributor","album","summary"].reduce(function(e,r){var o=n.textForFirstElemByClass(t,r);return o&&(e[r]=o),e},{})})}},{"./utils":5}],4:[function(t,e,r){var n=t("./utils"),o="[itemscope]:not([itemprop])";r.extractSchemaItems=function(t){var e=t.querySelectorAll(o);return n.toArray(e).map(i)};var i=function(t){return u({itemtype:n.getElemAttrVal(t,"itemtype")},t.children)},u=function(t,e){return n.toArray(e).reduce(a,t)},a=function(t,e){var r;return n.elemHasAttr(e,"itemprop")?(r=n.getElemAttrVal(e,"itemprop"),t[r]=n.elemHasAttr(e,"itemscope")?i(e):n.getElemContent(e)):u(t,e.children),t}},{"./utils":5}],5:[function(t,e,r){r.getElemContent=function(t){return r.elemHasAttr(t,"content")?r.getElemAttrVal(t,"content"):t.textContent},r.elemHasAttr=function(t,e){return void 0!=t.attributes[e]},r.getElemAttrVal=function(t,e){return r.elemHasAttr(t,e)?t.attributes[e].value:void 0},r.toArray=function(t){return Array.prototype.slice.call(t)},r.firstElemByClass=function(t,e){return t.getElementsByClassName(e)[0]},r.textForFirstElemByClass=function(t,e){var n=r.firstElemByClass(t,e);return n?n.textContent.trim():void 0}},{}]},{},[1])(1)});
//# sourceMappingURL=woven.min.js.map